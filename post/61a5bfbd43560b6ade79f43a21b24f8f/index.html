<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TCP/IP 是什么？ | 耀 の 部落阁 | Mark&#39;s BLOG</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png">
    <meta name="description" content="**本文大半内容都不对，弃了弃了~**自计算机和互联网出现，大多数计算机都被用于上网、发邮件或者只是通过网路使用一下网络共享打印机。计算机网络[^1]可以连接各种功能不一样的电子设备，例如笔记本电脑、平板电脑、智能手机、服务器、打印机、扫描仪、路由器等设备。如果说以上设备连上网络后都算是“传 ...">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#ffffff">
    <meta name="google-site-verification" content="DR-3xvCA7YBP7TIeg7__j5lxaniGh2pzocrfywyn8o0">
    <meta name="baidu-site-verification" content="zQef3H7nga">
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/css/0.styles.01de9769.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/app.27e004bd.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/5.bd762cdd.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/20.2b46ccc1.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/9.5590643f.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/8.a29e5d23.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/10.a1247f8c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/11.948554fb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/12.e5c7f950.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/13.2ebe250d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/14.ceed5fc6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/15.4652cf5a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/16.6b18731e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/17.ff6ebb67.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/18.e5aee7e5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/19.f673608d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/21.84041153.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/22.35d3da49.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/23.94a58285.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/24.3579c775.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/25.a4fdf6f1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/26.beae3aae.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/27.6e768996.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/28.c964f6f5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/29.c8d3e5b1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/3.baab6c8e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/30.a5cee98f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/31.e6e8b61a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/32.1ee9baae.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/33.2c319c84.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/34.75967790.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/35.0f1d65e7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/36.c14dbeb2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/4.8e0e8a4d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/6.64636763.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/7.eb080198.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/vuejs-paginate.b61c3606.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/css/0.styles.01de9769.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="GlobalLayout skin-jshine" data-v-3cdc9677><!----> <div class="Launch" data-v-e09ae2c6 data-v-3cdc9677><div class="avatar" style="background-image:url('/assets/img/avatar.png');" data-v-e09ae2c6></div></div> <div class="Spinner " data-v-6700bc45 data-v-3cdc9677></div> <div class="Header" data-v-c522cb30 data-v-3cdc9677><div class="ext " data-v-c522cb30><i class="fas fa-cube" data-v-c522cb30></i></div> <div class="sitename" data-v-c522cb30><em><span>Mark's</span></em><strong><span>BLOG</span></strong></div> <div class="ext " data-v-c522cb30><i class="fas fa-search" data-v-c522cb30></i></div></div> <div class="Goingto" data-v-3a306b14 data-v-3cdc9677><div class="top" data-v-3a306b14><i class="fas fa-arrow-up" data-v-3a306b14></i></div> <div class="bottom" data-v-3a306b14><i class="fas fa-arrow-down" data-v-3a306b14></i></div></div> <div class="Addin" data-v-1005f9e5 data-v-3cdc9677><div class="top " data-v-1005f9e5><i class="fas fa-ad" data-v-1005f9e5></i></div> <div class="bottom " data-v-1005f9e5><i class="fas fa-qrcode" data-v-1005f9e5></i></div> <!----></div> <!----> <div class="frame" data-v-3cdc9677><div class="main" data-v-3cdc9677><div class="drawer" data-v-3cdc9677><div class="Drawer" data-v-ad01f60e data-v-3cdc9677><div class="Brand card" data-v-67829975 data-v-ad01f60e><div class="caption ifSmallest" data-v-67829975><span class="icon" data-v-67829975><i class="fas fa-id-card fa-fw" data-v-67829975></i></span> <span data-v-67829975>CARD</span></div> <div class="avatar" style="background-image:url('/assets/img/brand.png');" data-v-67829975></div> <div class="inner" data-v-67829975><div class="author" data-v-67829975>jinyaoMa</div> <div class="signature" data-v-67829975>issue, func, flow, std, solve</div> <div class="counter" data-v-67829975><span title="Count of Posts" data-v-67829975><i class="fas fa-archive fa-fw" data-v-67829975></i>
        16
      </span>|
      <span title="Count of Categories" data-v-67829975><i class="fas fa-folder-open fa-fw" data-v-67829975></i>
        9
      </span>|
      <span title="Count of Tags" data-v-67829975><i class="fas fa-tags fa-fw" data-v-67829975></i>
        25
      </span></div> <div class="contact" data-v-67829975><a target="_blank" href="https://github.com/jinyaoMa" title="jinyaoMa" data-v-67829975><i class="fab fa-github fa-fw"></i></a><a target="_blank" href="mailto://jinyao.ma@outlook.com" title="jinyao.ma@outlook.com" data-v-67829975><i class="fas fa-envelope fa-fw"></i></a><a target="_blank" href="tencent://Message/?uin=907881445" title="907881445" data-v-67829975><i class="fab fa-qq fa-fw"></i></a></div></div> <div class="minimize ifSmallest" data-v-67829975></div></div> <div class="Menu" data-v-41b9ee9e data-v-ad01f60e><div class="card" data-v-41b9ee9e><div class="caption" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-sitemap fa-fw"></i></span> <span data-v-41b9ee9e>MAIN</span></div> <div class="inner" data-v-41b9ee9e><a href="/" class="router-link-active" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-home fa-fw"></i></span> <span data-v-41b9ee9e>Home</span></a><a href="/archive/" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-archive fa-fw"></i></span> <span data-v-41b9ee9e>Archive</span></a><a href="/about/" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-user fa-fw"></i></span> <span data-v-41b9ee9e>About</span></a></div> <div class="minimize" data-v-41b9ee9e></div></div><div class="card" data-v-41b9ee9e><div class="caption" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-briefcase fa-fw"></i></span> <span data-v-41b9ee9e>JOB RELATED</span></div> <div class="inner" data-v-41b9ee9e><a href="/resume/" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-paper-plane fa-fw"></i></span> <span data-v-41b9ee9e>Resume Tips</span></a><a href="/letter/" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-file-contract fa-fw"></i></span> <span data-v-41b9ee9e>Cover Letter Tips</span></a></div> <div class="minimize" data-v-41b9ee9e></div></div><div class="card" data-v-41b9ee9e><div class="caption" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-ellipsis-h fa-fw"></i></span> <span data-v-41b9ee9e>OTHERS</span></div> <div class="inner" data-v-41b9ee9e><a href="/codes/" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-box fa-fw"></i></span> <span data-v-41b9ee9e>Code Library</span></a><a href="/icons/" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-icons fa-fw"></i></span> <span data-v-41b9ee9e>Icon Font Library</span></a><a href="/records/" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-edit fa-fw"></i></span> <span data-v-41b9ee9e>Records</span></a><a href="/gallery/" data-v-41b9ee9e><span class="icon" data-v-41b9ee9e><i class="fas fa-images fa-fw"></i></span> <span data-v-41b9ee9e>Gallery</span></a></div> <div class="minimize" data-v-41b9ee9e></div></div></div> <div class="Skin card" data-v-429f2436 data-v-ad01f60e><div class="caption" data-v-429f2436><span class="icon" data-v-429f2436><i class="fas fa-tshirt fa-fw" data-v-429f2436></i></span> <span data-v-429f2436>SKIN</span></div> <div class="inner" data-v-429f2436><div title="Default" class="color " style="background:#696969;" data-v-429f2436></div><div title="White &amp; Black" class="color " style="background:linear-gradient(120deg, #666666, #999999, #333333);" data-v-429f2436></div><div title="JShine" class="color active" style="background:linear-gradient(120deg, #ff3300, #cc66ff, #00ccff);" data-v-429f2436></div><div title="Memariani" class="color " style="background:linear-gradient(120deg, #cc6699, #6666cc, #33cccc);" data-v-429f2436></div></div> <div class="minimize" data-v-429f2436></div></div> <div class="Settings card" data-v-b38f90f6 data-v-ad01f60e><div class="caption" data-v-b38f90f6><span class="icon" data-v-b38f90f6><i class="fas fa-cog fa-fw" data-v-b38f90f6></i></span> <span data-v-b38f90f6>SETTINGS</span></div> <div class="inner" data-v-b38f90f6><div class=" " data-v-b38f90f6><span class="icon" data-v-b38f90f6><i class="fas fa-adjust fa-fw"></i></span> <span data-v-b38f90f6>Night Shift</span> <div class="switch" data-v-b38f90f6></div></div><div class=" " data-v-b38f90f6><span class="icon" data-v-b38f90f6><i class="fas fa-video-slash fa-fw"></i></span> <span data-v-b38f90f6>Disable Canvas</span> <div class="switch" data-v-b38f90f6></div></div><div class="active " data-v-b38f90f6><span class="icon" data-v-b38f90f6><i class="fas fa-globe-asia fa-fw"></i></span> <span data-v-b38f90f6>简体中文</span> <div class="switch" data-v-b38f90f6></div></div></div> <div class="minimize" data-v-b38f90f6></div></div></div></div> <div class="center " data-v-3cdc9677><div class="Translate card" data-v-c6e1b70c data-v-3cdc9677><div class="bar " data-v-c6e1b70c><div title="Highlight words to translate - Supported by Baidu Translation API" class="sq highlight" data-v-c6e1b70c><i class="fas fa-highlighter" data-v-c6e1b70c></i></div> <div class="locales" data-v-c6e1b70c><div data-v-c6e1b70c>中文</div> <span data-v-c6e1b70c>|</span> <div data-v-c6e1b70c>English</div> <span data-v-c6e1b70c>|</span> <div data-v-c6e1b70c>日本語</div> <!----></div> <div title="Click to copy highlighted content above translation bar" class="sq copy" data-v-c6e1b70c><i class="fas fa-copy" data-v-c6e1b70c></i></div></div> <!----></div> <div data-v-3cdc9677><div class="Post" data-v-890e4b14 data-v-3cdc9677><div class="Article card fix " data-v-3b564bf6 data-v-890e4b14><div class="caption" data-v-3b564bf6><span class="icon" data-v-3b564bf6><i class="fas fa-file fa-fw" data-v-3b564bf6></i></span> <span data-v-3b564bf6>PAGE CONTENT</span></div> <div class="inner" data-v-3b564bf6><div class="meta  " data-v-3b564bf6><div class="meta-title" data-v-3b564bf6>TCP/IP 是什么？</div> <div class="meta-info" data-v-3b564bf6><div class="info-date" data-v-3b564bf6><i class="fas fa-calendar-alt fa-fw" data-v-3b564bf6></i>
          2020-04-08
        </div> <div class="info-updated" data-v-3b564bf6><i class="fas fa-calendar-check fa-fw" data-v-3b564bf6></i>
          2020-06-09
        </div> <div class="info-categories" data-v-3b564bf6><i class="fas fa-folder-open fa-fw" data-v-3b564bf6></i> <span data-v-3b564bf6><!----> <a href="/category/网络/" data-v-3b564bf6>网络</a></span></div> <div class="info-wordcount" data-v-3b564bf6><i class="fas fa-file-word fa-fw" data-v-3b564bf6></i>
          2.4k
        </div> <div class="info-wordcount" data-v-3b564bf6><i class="fas fa-stopwatch fa-fw" data-v-3b564bf6></i>
          17 min.
        </div></div></div> <div class="markdown-body content__default" data-v-3b564bf6><p><strong>本文大半内容都不对，弃了弃了～</strong></p> <p>自计算机和互联网出现，大多数计算机都被用于上网、发邮件或者只是通过网路使用一下网络共享打印机。计算机网络<a href="%E9%80%9A%E8%BF%87%E8%BD%AF%E7%A1%AC%E4%BB%B6%E6%8A%80%E6%9C%AF%E6%94%AF%E6%8C%81%E5%85%81%E8%AE%B8%E5%A4%9A%E5%8F%B0%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B9%8B%E9%97%B4%E4%BA%A4%E6%B5%81%E5%92%8C%E5%85%B1%E4%BA%AB%E8%B5%84%E6%BA%90"> ^1</a> 可以连接各种功能不一样的电子设备，例如笔记本电脑、平板电脑、智能手机、服务器、打印机、扫描仪、路由器等设备。如果说以上设备连上网络后都算是 “传统” 节点，那在现在的物联网时代，各种计算机新品种就可以算作 “非传统” 节点了吧，毕竟现在能连网的设备真的是五花八门。再说征服王 “互联网” 现在真的可以说已经征服世界的情况下，计算机网络类型都可以分成 5 种：</p> <ul><li>PAN - 个人网络，一台电脑配打印机等设备</li> <li>LAN - 局域网，一个路由器下的网络</li> <li>WLAN - 无线局域网，一个无线路由器信号覆盖下的网络</li> <li>MAN - 都市网，一个城市的网络</li> <li>WAN - 广域网，一个省、国家或整个世界下的网络，比如互联网</li></ul> <p>在这么广阔的网络下，如果节点之间通讯只靠一个 “节点 ID” 作为坐标来互动，那互动时所传输的数据恐怕是要迷路很久甚至有可能累死在路上。<strong>TCP/IP</strong><a href="%E7%9B%AE%E5%89%8D%E4%B8%BB%E6%B5%81%E7%9A%84%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E5%8D%8F%E8%AE%AE%E9%9B%86%E5%90%88%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%BA%94%E7%94%A8%E5%B1%82%E3%80%81%E4%BC%A0%E8%BE%93%E5%B1%82%E3%80%81%E7%BD%91%E7%BB%9C%E5%B1%82%E5%92%8C%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3%E5%B1%82">^2</a> 就包含了网络相关的标准规范。这个协议集合里的 IP 部分就很好的为迷路的数据指明了方向。</p> <p><strong>先来个更好的文章做参考：<a href="//developer.51cto.com/art/201906/597961.htm">太厉害了，终于有人能把 TCP/IP 协议讲的明明白白了！</a>，<a href="//tool.oschina.net/commons?type=7">TCP/UDP 常见端口参考</a></strong></p> <p>网络上两个节点之间通讯需要 3 样东西来指路：</p> <ul><li>节点在网络上的地址（IP 地址）</li> <li>节点的名称（MAC 地址）</li> <li>节点里应用或服务接收数据的端口（Port 端口）</li></ul> <h1 id="tcp-ip协议全家桶"><a href="#tcp-ip协议全家桶" class="header-anchor">#</a> TCP/IP 协议全家桶</h1> <p>全家桶包含 ARP, BGP, DHCP, DNS, FTP, HTTP, ICMP, IGMP, IP, TCP, Telnet, TFTP, UDP, WWW 等。
节点上的 TCP/IP 栈，需跟随所运行的网络应用的要求，从全家桶中选择合适的协议；不同的节点有可能会使用不一样的 TCP/IP 栈。</p> <h2 id="网络体系结构osi七层模型"><a href="#网络体系结构osi七层模型" class="header-anchor">#</a> 网络体系结构 OSI 七层模型</h2> <table><thead><tr><th style="text-align:right;"></th> <th style="text-align:center;">名称</th> <th style="text-align:center;">功能</th> <th style="text-align:center;">TCP/IP 协议族</th></tr></thead> <tbody><tr><td style="text-align:right;">7</td> <td style="text-align:center;">应用层 (Applicaiton)</td> <td style="text-align:center;">终端用户的接口支持：文件传输，电子邮件，文件服务，虚拟终端</td> <td style="text-align:center;">TFTP, HTTP, SNMP, FTP, SMTP, DNS, Telnet</td></tr> <tr><td style="text-align:right;">6</td> <td style="text-align:center;">表示层 (Presentation)</td> <td style="text-align:center;">数据格式化，代码转换，数据加密</td> <td style="text-align:center;">N/A</td></tr> <tr><td style="text-align:right;">5</td> <td style="text-align:center;">会话层 (Session)</td> <td style="text-align:center;">连接管理：解除或建立与别的节点的联系</td> <td style="text-align:center;">N/A</td></tr> <tr><td style="text-align:right;">4</td> <td style="text-align:center;">传输层 (Transport)</td> <td style="text-align:center;">端对端传输管理，提供端对端的接口</td> <td style="text-align:center;">TCP, UDP</td></tr> <tr><td style="text-align:right;">3</td> <td style="text-align:center;">网络层 (Network)</td> <td style="text-align:center;">端对端路由，为数据包选择路由</td> <td style="text-align:center;">IP, ICMP, RIP, OSPF, BGP, IGMP</td></tr> <tr><td style="text-align:right;">2</td> <td style="text-align:center;">数据链路层 (Data Link)</td> <td style="text-align:center;">网络接入和架构管理，传输有地址的帧以及错误检测功能</td> <td style="text-align:center;">SLIP, CSLIP, PPP, ARP, RARP, MTU</td></tr> <tr><td style="text-align:right;">1</td> <td style="text-align:center;">物理层 (Physical)</td> <td style="text-align:center;">比特流生成和接收，以二进制数据形式在物理媒体上传输数据</td> <td style="text-align:center;">ISO2110, IEEE802, IEEE802.2</td></tr></tbody></table> <h1 id="ip协议"><a href="#ip协议" class="header-anchor">#</a> IP 协议</h1> <p>IP 协议理论上让每个网络不管大小都有一个唯一的 IP 地址（或称作 “节点地址”），但事实上不是每个网络（小到一台电脑配一个打印机）都能独享世界唯一 IP 地址。讨论 “不能独享世界唯一 IP 地址的情况下，数据到底怎么就不会迷路了？” 的问题之前，我们要先认识 IP 地址的格式。</p> <h2 id="ipv4格式"><a href="#ipv4格式" class="header-anchor">#</a> IPv4 格式</h2> <p>IPv4 使用 32-bit 节点地址，分成 4 个 8-bit 部分，例如：</p> <p><code>01110000.11011110.11100110.00001111</code></p> <p>使用十进制的眼光来看这个节点地址就会变成这样：</p> <p><code>112.222.230.15</code></p> <p>每一个 8-bit 部分的最大值是 255。
一个 IP 地址包含有两组信息：网络 ID 和节点 ID。</p> <p>网络 ID 分为 3 类：</p> <ul><li>A 类
<ul><li>IP 地址范围：1.0.0.0 ~ 126.255.255.255</li> <li>A 类网络 ID 为第 1 个 8-bit 部分</li> <li>例子： <code>112.222.230.15</code>  属于 A 类，网络 ID 为 <code>112</code> ，节点 ID 为 <code>222.230.15</code></li></ul></li> <li>B 类
<ul><li>IP 地址范围：128.0.0.0 ~ 191.255.255.255</li> <li>B 类网络 ID 为第 1-2 个 8-bit 部分</li> <li>例子： <code>142.112.1.70</code>  属于 B 类，网络 ID 为 <code>142.112</code> ，节点 ID 为 <code>1.70</code></li></ul></li> <li>C 类
<ul><li>IP 地址范围：192.0.0.0 ~ 223.255.255.255</li> <li>C 类网络 ID 为第 1-3 个 8-bit 部分</li> <li>例子： <code>192.168.1.1</code>  属于 C 类，网络 ID 为 <code>192.168.1</code> ，节点 ID 为 <code>1</code> 
 其中以 127 开头的 IP 地址为 “回环地址”，数据信息的发送者发出的数据流会原样送回发送者。
网络 ID 越大，处于该网络下的主机或节点越少。一般家庭用的路由器网络 ID 为 <code>192.168.1</code>  的情况下最多只能连接 254 个设备。</li></ul></li></ul> <h2 id="ipv6格式"><a href="#ipv6格式" class="header-anchor">#</a> IPv6 格式</h2> <p>IPv6 使用 128-bit 节点地址，分成 8 个 4 位数的八进制 16-bit 部分，例如：</p> <p><code>2001:0000:5723:0000:0000:D14E:DBCA:0764</code></p> <p>也可以缩写成这样：</p> <p><code>2001:0:5723::D14E:DBCA:764</code></p> <p>其他例子：</p> <p><code>2001:0DA8:0000:0000:0001:0000:0000:0001</code>  =&gt;  <code>2001:DA8::1:0:0:1</code>  OR  <code>2001:DA8:0:0:1::1</code> <code>0:0:0:0:0:0:0:1</code>  =&gt;  <code>::1</code> <code>0:0:0:0:0:0:0:0</code>  =&gt;  <code>::</code></p> <p>开头 64-bit 包含了网络和子网络的地址，后面 64-bit 是接口 ID。因为 IPv6 地址是直接赋予接口的，所以一个主机可以有多个 IPv6 地址对应不同的网络连接。下图拆开开头 64-bit 网络地址：
<img alt="IPv6 Prefix" data-src="/gallery/tcp-ip-ipv6-prefix.jpg" loading="lazy" class="lazy"></p> <h2 id="路由器"><a href="#路由器" class="header-anchor">#</a> 路由器</h2> <p>路由器是能连接多个网络的设备。它们决定了数据的去向，但它们一般都不是数据的最终接收者。数据在传输过程中有可能经过多个跳板<a href="%E6%95%B0%E6%8D%AE%E5%9C%A8%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%BB%8F%E8%BF%87%E7%9A%84%E8%B7%AF%E7%94%B1%E5%99%A8"> ^3</a>，一般这些数据跳的次数过多且还没到目的地的话就会累死在路上，造成的结果就是发送者得不到回应、响应超时或者收到路由甲回应的死亡信息。</p> <p>一个 ID 为 <code>142.222</code>  的网络例子：
<img alt="Network 142.222.x.x" data-src="/gallery/tcp-ip-router-network.jpg" loading="lazy" class="lazy">
在这个网络中，所有的主机或节点都是必须要向路由器 <code>142.222.9.255</code>  发送他们的数据，这样数据才可以在这个网络中畅行或者从这个网络发出到更外面的网络；所以在这里路由器 <code>142.222.9.255</code>  被称为是默认网关。</p> <p>假如在以上网络中主机 <code>142.222.12.27</code>  要发送数据到服务器 <code>112.111.72.56</code> ，数据会先到路由器 <code>142.222.9.255</code> ，路由器会通过路由表查找数据的下个传送目标（随便一提，需要解析域名的情况下，找到一个 IP 记录丰富的 DNS 也能让你的数据少跳跳板，数据极低概率会累死在路上）。</p> <p>假如在以上 B 类网络基础上存在<strong>子网络</strong>：
<img alt="Network 142.222.x.x with subnet" data-src="/gallery/tcp-ip-router-subnet.jpg" loading="lazy" class="lazy">
在子网络中主机 <code>142.222.10.2</code>  要发送数据到服务器 <code>142.123.32.14</code> ，数据会先到路由器 <code>142.222.10.255</code> ，再到外面网络的路由器 <code>142.222.255.255</code> ，再到更外面网络的路由器 <code>142.255.255.255</code> ；找到 <code>142.255.255.255</code>  的下级 <code>142.123.255.255</code> ，再到服务器 <code>142.123.32.14</code> 。当然，如果网络 <code>142.123</code>  底下也有子网络的话，就要通过网关 <code>142.123.32.255</code> ，之后才是服务器 <code>142.123.32.14</code> 。</p> <h2 id="mac地址"><a href="#mac地址" class="header-anchor">#</a> MAC 地址</h2> <p>MAC 地址一般说的就是网卡生产出来自带的 12 个十六进制数的 ID，当然也可以通过软件生成一个随机的 MAC 地址，只要主机所在的网络路由器上的 ARP 表上没有就行。它能够在一个网络下确认主机发送者或接收者的身份。因为 MAC 地址都是厂家定的，对比 IP 地址，MAC 地址就可以有唯一标识了，甚至一人手上说不定还能独享多个 “唯一”。MAC 地址例子如下：</p> <p><code>00-0B-DB-45-A4-CC</code></p> <p>前 6 个数代表制造商： <code>00-0B-DB</code> 
 后 6 个数为唯一编号： <code>45-A4-CC</code></p> <h2 id="arp协议"><a href="#arp协议" class="header-anchor">#</a> ARP 协议</h2> <p>ARP 协议让路由器记录下哪个 IP 地址对应哪个 MAC 地址。因为 IP 地址多数为动态，一个设备说不定某天就移民了，所以路由器一般都有一个 ARP 表记录和分配 IP 地址给底下的子民；要是有的子民刚移民过来没有记录在案，在有数据传送过来路由找不到人的情况下会发广播，以这样的操作令底下子民回应，之后强制记录在案。</p> <p><strong><em>更多可以百度 TCP/IP 全家桶各种协议，比较重要的还有数据包结构、DHCP<a href="%E4%B8%BA%E7%BD%91%E5%85%B3%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E4%B8%8B%E7%9A%84%E4%B8%BB%E6%9C%BA%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81IP%E5%9C%B0%E5%9D%80%E7%9A%84%E5%88%86%E9%85%8D%EF%BC%9B%E6%9C%89%E6%95%88%E9%98%B2%E6%AD%A2%E4%BA%BA%E5%B7%A5%E6%93%8D%E4%BD%9C%E7%9A%84%E5%A4%B1%E8%AF%AF%EF%BC%9B%E6%9C%89%E4%B8%BB%E6%9C%BA%E8%A2%AB%E8%BF%81%E7%A7%BB%E6%88%96%E6%9B%B4%E6%9B%BF%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E8%83%BD%E5%A4%9F%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E9%85%8D%E7%BD%AE">^4</a> 和 DNS<a href="%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%83%BD%E5%A4%9F%E5%B8%AE%E5%8A%A9%E8%A7%A3%E6%9E%90%E5%9F%9F%E5%90%8D%E5%88%B0%E5%AF%B9%E5%BA%94IP%E5%9C%B0%E5%9D%80">^5</a>。</em></strong></p></div> <div class="tail" data-v-3b564bf6><div class="ending" data-v-3b564bf6><span data-v-3b564bf6>The post above ended</span> <i class="far fa-dot-circle fa-fw" data-v-3b564bf6></i> <span data-v-3b564bf6>Thanks for your reading</span></div> <div class="friend" data-v-3b564bf6><div data-v-3b564bf6>Come on! Write some comments, and your suggestions will improve the quality of my creative!</div> <div class="button" data-v-3b564bf6>FRIEND ME</div> <div class="qrcode" data-v-3b564bf6><div data-v-3b564bf6><img src="/assets/img/qq.png" data-v-3b564bf6> <div data-v-3b564bf6>QQ</div></div><div data-v-3b564bf6><img src="/assets/img/wechat.png" data-v-3b564bf6> <div data-v-3b564bf6>WeChat</div></div></div></div> <div class="share" data-v-3b564bf6><!----></div> <div class="license" data-v-3b564bf6><div class="frame" data-v-3b564bf6><div data-v-3b564bf6><span data-v-3b564bf6>Post Author:</span> <a target="_blank" href="/" data-v-3b564bf6>jinyaoMa</a></div> <div data-v-3b564bf6><span data-v-3b564bf6>Post Link:</span> <a target="_blank" href="/" data-v-3b564bf6>/</a></div> <div data-v-3b564bf6><span data-v-3b564bf6>Copyright Notice:</span> <span data-v-3b564bf6>All articles/posts in this website are licensed under <a target="_blank" href="//creativecommons.org/licenses/by-nc-sa/4.0/"><i class="fab fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</span></div></div></div> <div class="tags" data-v-3b564bf6><a href="/tag/TCP/IP/" data-v-3b564bf6># TCP/IP</a><a href="/tag/MAC/" data-v-3b564bf6># MAC</a><a href="/tag/IPv6/" data-v-3b564bf6># IPv6</a><a href="/tag/IPv4/" data-v-3b564bf6># IPv4</a></div> <div class="pn" data-v-3b564bf6><!----> <a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#" title="Newer Post: undefined" class="next" data-v-3b564bf6></a></div></div> <div class="readmode" data-v-3b564bf6><span data-v-3b564bf6>Enable Read Mode</span> <i class="fas fa-book-open" data-v-3b564bf6></i></div></div></div> <div class="Comment card" data-v-877850cc data-v-890e4b14><div class="caption" data-v-877850cc><span class="icon" data-v-877850cc><i class="fas fa-comments fa-fw" data-v-877850cc></i></span> <span data-v-877850cc>COMMENTS</span></div> <div class="inner" data-v-877850cc><!----></div> <div class="minimize" data-v-877850cc></div></div></div></div> <div class="Empty card" style="background-image:url('/assets/img/empty.png');" data-v-3d118c13 data-v-3cdc9677></div></div> <div class="aside" data-v-3cdc9677><div class="Aside" data-v-128d73db data-v-3cdc9677><div class="Panel" data-v-7933b06a data-v-128d73db><div class="card" data-v-7933b06a><div class="caption" data-v-7933b06a><span class="icon" data-v-7933b06a><i class="fas fa-folder-open fa-fw"></i></span> <span data-v-7933b06a>CATEGORIES</span></div> <div class="inner" data-v-7933b06a><a href="/category/网络/" style="font-size:0.875rem;opacity:0.75;" data-v-7933b06a>网络</a><a href="/category/Hexo/" style="font-size:0.9375rem;opacity:0.875;" data-v-7933b06a>Hexo</a><a href="/category/Blog/" style="font-size:1rem;opacity:1;" data-v-7933b06a>Blog</a><a href="/category/Note/" style="font-size:0.875rem;opacity:0.75;" data-v-7933b06a>Note</a><a href="/category/Markdown/" style="font-size:0.8125rem;opacity:0.625;" data-v-7933b06a>Markdown</a><a href="/category/SQL/" style="font-size:0.8125rem;opacity:0.625;" data-v-7933b06a>SQL</a><a href="/category/数据结构与算法/" style="font-size:1rem;opacity:1;" data-v-7933b06a>数据结构与算法</a><a href="/category/Plugin/" style="font-size:0.875rem;opacity:0.75;" data-v-7933b06a>Plugin</a><a href="/category/Lab/" style="font-size:0.8125rem;opacity:0.625;" data-v-7933b06a>Lab</a></div> <!----> <div class="minimize" data-v-7933b06a></div></div><div class="card" data-v-7933b06a><div class="caption" data-v-7933b06a><span class="icon" data-v-7933b06a><i class="fas fa-tags fa-fw"></i></span> <span data-v-7933b06a>TAGS</span></div> <!----> <div class="inner" data-v-7933b06a><a href="/tag/2048/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>2048</a><a href="/tag/HTTP/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>HTTP</a><a href="/tag/HTTPS/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>HTTPS</a><a href="/tag/Mustom/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>Mustom</a><a href="/tag/Command/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>Command</a><a href="/tag/Test/" style="font-size:0.875rem;opacity:1;" data-v-7933b06a>Test</a><a href="/tag/Links/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>Links</a><a href="/tag/Oracle/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>Oracle</a><a href="/tag/SQL/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>SQL</a><a href="/tag/基础/" style="font-size:0.875rem;opacity:1;" data-v-7933b06a>基础</a><a href="/tag/抽象数据类/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>抽象数据类</a><a href="/tag/Stack/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>Stack</a><a href="/tag/Queue/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>Queue</a><a href="/tag/线性表/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>线性表</a><a href="/tag/List/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>List</a><a href="/tag/TCP/IP/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>TCP/IP</a><a href="/tag/MAC/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>MAC</a><a href="/tag/IPv6/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>IPv6</a><a href="/tag/IPv4/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>IPv4</a><a href="/tag/old blog/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>old blog</a><a href="/tag/diary/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>diary</a><a href="/tag/JavaScript/" style="font-size:0.875rem;opacity:1;" data-v-7933b06a>JavaScript</a><a href="/tag/Big O/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>Big O</a><a href="/tag/音乐播放器/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>音乐播放器</a><a href="/tag/SFWRTECH 3IT3/" style="font-size:0.8125rem;opacity:0.75;" data-v-7933b06a>SFWRTECH 3IT3</a></div> <div class="minimize" data-v-7933b06a></div></div></div> <div class="Audioplayer card" data-v-22544120 data-v-128d73db><div class="caption" data-v-22544120><span class="icon" data-v-22544120><i class="fas fa-music fa-fw" data-v-22544120></i></span> <span data-v-22544120>PLAYLIST</span></div> <div class="inner" style="height:calc(297px + 90px);" data-v-22544120><meting-js server="netease"type="playlist"id="4989572738"theme="var(--link)"list-max-height="297px"></meting-js></div> <div class="minimize" data-v-22544120></div></div> <div class="Clustrmaps card" data-v-0315b7c2 data-v-128d73db><div class="caption" data-v-0315b7c2><span class="icon" data-v-0315b7c2><i class="fas fa-map fa-fw" data-v-0315b7c2></i></span> <span data-v-0315b7c2>Clustrmaps</span></div> <div class="inner" data-v-0315b7c2><script id="clustrmaps" data-v-0315b7c2></script></div> <div class="minimize" data-v-0315b7c2></div></div> <div class="Toc card" data-v-1a2ec1c7 data-v-128d73db data-v-128d73db><div class="caption" data-v-1a2ec1c7><span class="icon" data-v-1a2ec1c7><i class="fas fa-bookmark fa-fw" data-v-1a2ec1c7></i></span> <span data-v-1a2ec1c7>TABLE OF CONTENTS</span></div> <div class="inner" data-v-1a2ec1c7><div data-v-1a2ec1c7><ul><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#tcp-ip协议全家桶">TCP/IP协议全家桶</a><ul><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#网络体系结构osi七层模型">网络体系结构OSI七层模型</a></li></ul></li><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#ip协议">IP协议</a><ul><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#ipv4格式">IPv4格式</a></li><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#ipv6格式">IPv6格式</a></li><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#路由器">路由器</a></li><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#mac地址">MAC地址</a></li><li><a href="/post/61a5bfbd43560b6ade79f43a21b24f8f/#arp协议">ARP协议</a></li></ul></li></ul></div></div></div></div></div> <div class="footer" data-v-3cdc9677><div data-v-3cdc9677><div class="Footer" data-v-489dac3e data-v-3cdc9677><div data-v-489dac3e>© 2019 - 2020 jinyaoMa</div> <div data-v-489dac3e></div> <div data-v-489dac3e>Theme <a target="_blank" href="//github.com/jinyaoMa/vuepress-theme-mustom" title="vuepress-theme-mustom">Mustom</a> By <a target="_blank" href="//github.com/jinyaoMa" title="jinyaoMa">jinyaoMa</a></div> <div class="footerCount" data-v-489dac3e><span title="Site total page views" data-v-489dac3e><i class="fas fa-eye fa-fw" data-v-489dac3e></i>
      ∞
    </span> <span title="Site total visitors" data-v-489dac3e><i class="fas fa-user-tie fa-fw" data-v-489dac3e></i>
      ∞
    </span> <span title="Site total word count" data-v-489dac3e><i class="fas fa-file-word fa-fw" data-v-489dac3e></i>
      16.6k
    </span></div> <div class="license" data-v-489dac3e><a class="by-nc-sa" target="_blank" href="//creativecommons.org/licenses/by-nc-sa/4.0/" title="Creative Commons Attribution-Noncommercial-ShareAlike 4.0 International license"></a></div></div></div></div></div></div> <div class="Notification default hide" data-v-d85b8d66 data-v-3cdc9677><div class="frame" data-v-d85b8d66><div class="inner" data-v-d85b8d66><div class="icon" data-v-d85b8d66><i class="fas fa-exclamation-circle fa-fw"></i></div> <div class="msg" data-v-d85b8d66>DEFAULT</div></div></div></div></div><div class="global-ui"><!----><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:48px;bottom:0px;width:180px;height:270px;z-index:99999;opacity:1;pointer-events:none;"><canvas id="live2d_canvas" width="180" height="270" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:180px;height:270px;"></canvas></div></div></div>
    <script src="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/app.27e004bd.js" defer></script><script src="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/5.bd762cdd.js" defer></script><script src="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/20.2b46ccc1.js" defer></script><script src="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/9.5590643f.js" defer></script><script src="https://cdn.jsdelivr.net/gh/jinyaoMa/vuepress-theme-mustom@gh-pages/assets/js/8.a29e5d23.js" defer></script>
  </body>
</html>
