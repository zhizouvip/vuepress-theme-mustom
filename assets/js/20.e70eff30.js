(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{344:function(e,t,a){"use strict";a.r(t);var s=a(2),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Course section: SFWRTECH 3IT3:Fundamentals of Networking - SFWRTECH_3IT3_poonh_2205")]),e._v(" "),a("p",[e._v("SFWRTECH 3IT3 – Fundamentals of Networking")]),e._v(" "),a("p",[e._v("Lab #1: Layer 3 and 4 Protocols")]),e._v(" "),a("p",[e._v("Following & Answers Record")]),e._v(" "),a("h1",{attrs:{id:"vm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vm"}},[e._v("#")]),e._v(" VM")]),e._v(" "),a("p",[e._v("Default gateway : 10.0.2.1")]),e._v(" "),a("p",[e._v("Windows1 IP : 10.0.2.4\nWindows2 IP : 10.0.2.5\nCentOS01 IP : 10.0.2.8 (with httpd)\nCentOS02 IP : 10.0.2.9")]),e._v(" "),a("h2",{attrs:{id:"step-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-8"}},[e._v("#")]),e._v(" Step 8")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ipconfig /all\n")])])]),a("h2",{attrs:{id:"step-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-9"}},[e._v("#")]),e._v(" Step 9")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('netsh interface ipv4 set dns "Ethernet" static 8.8.8.8 primary\nnetsh interface ipv4 add dns "Ethernet" 192.168.1.1\nipconfig /all\n')])])]),a("p",[e._v("Differences between dynamic and manual IP config:")]),e._v(" "),a("ul",[a("li",[e._v("DHCP enabled in dynamic and disabled in manual")]),e._v(" "),a("li",[e._v("DHCP server in dynamic is 10.0.2.3 but disappeared in manual")])]),e._v(" "),a("h2",{attrs:{id:"step-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-12"}},[e._v("#")]),e._v(" Step 12")]),e._v(" "),a("p",[e._v("Show ARP cache")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("arp -a\n")])])]),a("p",[e._v("Result:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Physical Address of 10.0.2.4 : 08-00-27-c8-13-4b\n\nInterface: 10.0.2.4 --- 0x3\ninternet Address | Physical Address | Type         | Purpose\n10.0.2.1           52-54-00-12-35-00  dynamic        Default Gateway\n10.0.2.3           08-00-27-75-7c-58  dynamic        DHCP Server\n10.0.2.5           08-00-27-2b-a4-3e  dynamic        Neighbouring VM\n10.0.2.255         ff-ff-ff-ff-ff-ff  static         Directed Broadcast\n224.0.0.22         01-00-5e-00-00-16  static\n224.0.0.251        01-00-5e-00-00-fb  static\n224.0.0.252        01-00-5e-00-00-fc  static\n255.255.255.255    ff-ff-ff-ff-ff-ff  static         Flooded Broadcast\n\n224.0.0.22 were appeared after browsing a website.\n\nWireshark OUI Lookup Tool: https://www.wireshark.org/tools/oui-lookup.html\n\nOUI for 08-00-27 : PCS Computer Systems GmbH\n")])])]),a("h2",{attrs:{id:"step-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-13"}},[e._v("#")]),e._v(" Step 13")]),e._v(" "),a("p",[e._v("Using  "),a("code",[e._v("Windows1 10.0.2.4")]),e._v("  ,\ndelete all entries in ARP cache  "),a("code",[e._v("arp -d")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("arp -d\narp -a\nping 10.0.2.5\narp -a\n")])])]),a("p",[e._v("A new entry  "),a("code",[e._v("10.0.2.5 08-00-27-2b-a4-3e")]),e._v("  was created in ARP cache after  "),a("code",[e._v("ping 10.0.2.5")]),e._v(" .")]),e._v(" "),a("p",[e._v("There is no ARP entry for default gateway because  "),a("code",[e._v("Windows2 10.0.2.5")]),e._v("  is in the same subnet that  "),a("code",[e._v("Windows1 10.0.2.4")]),e._v("  in, so data can be sent directly to neighbours and not to the gateway to handle further.")]),e._v(" "),a("p",[e._v("I can use  "),a("code",[e._v("ipconfig")]),e._v("  command to get the ARP entry for default gateway.")]),e._v(" "),a("h2",{attrs:{id:"step-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-14"}},[e._v("#")]),e._v(" Step 14")]),e._v(" "),a("p",[e._v("After change MAC of  "),a("code",[e._v("Windows2 10.0.2.5")]),e._v("  from  "),a("code",[e._v("08-00-27-2b-a4-3e")]),e._v("  to  "),a("code",[e._v("08-00-27-11-22-33")]),e._v("  and run  "),a("code",[e._v("arp -a")]),e._v("  on  "),a("code",[e._v("Windows1 10.0.2.4")]),e._v(" , the ARP entry of  "),a("code",[e._v("Windows2 10.0.2.5")]),e._v("  is dynamically changed to  "),a("code",[e._v("08-00-27-11-22-33")]),e._v(" . (yes, if I switch Windows1 quickly enough, the MAC is not changed yet)")]),e._v(" "),a("p",[e._v("I ping to  "),a("code",[e._v("Windows2 10.0.2.5")]),e._v("  and receive 4  "),a("code",[e._v("Request timed out")]),e._v("  after MAC changed.")]),e._v(" "),a("h2",{attrs:{id:"step-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-15"}},[e._v("#")]),e._v(" Step 15")]),e._v(" "),a("p",[e._v("After I select “Turn on Windows Defender Firewall” under the\n“Public network settings” on  "),a("code",[e._v("Windows2 10.0.2.5")]),e._v(" ,  "),a("code",[e._v("Windows1 10.0.2.4")]),e._v("  receives 4  "),a("code",[e._v("Request timed out")]),e._v("  on running  "),a("code",[e._v("ping 10.0.2.5")]),e._v(" .")]),e._v(" "),a("h2",{attrs:{id:"step-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-19"}},[e._v("#")]),e._v(" Step 19")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("su -\nyum -y install nc httpd\nyum -y install nc\n")])])]),a("h2",{attrs:{id:"step-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-20"}},[e._v("#")]),e._v(" Step 20")]),e._v(" "),a("p",[e._v("Create  "),a("code",[e._v("index.html")]),e._v("  file")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<html><body>Hello World</body></html>\n")])])]),a("p",[e._v("Save to  "),a("code",[e._v("/var/www/html/index.html")])]),e._v(" "),a("h2",{attrs:{id:"step-21"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-21"}},[e._v("#")]),e._v(" Step 21")]),e._v(" "),a("p",[e._v("Run  "),a("code",[e._v("ifconfig")]),e._v("  or  "),a("code",[e._v("ip addr")]),e._v("  on CentOS01, find device  "),a("code",[e._v("enp0s3")]),e._v("  with  "),a("code",[e._v("inet 10.0.2.8/24")])]),e._v(" "),a("p",[e._v("Run")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("firewall-cmd --zone=public --add-port=80/tcp --permanent\nfirewall-cmd --reload\n")])])]),a("p",[e._v("on CentOS01")]),e._v(" "),a("p",[e._v("Run  "),a("code",[e._v("ifconfig")]),e._v("  or  "),a("code",[e._v("ip addr")]),e._v("  on CentOS02, find device  "),a("code",[e._v("enp0s3")]),e._v("  with  "),a("code",[e._v("inet 10.0.2.9/24")])]),e._v(" "),a("h2",{attrs:{id:"step-22"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-22"}},[e._v("#")]),e._v(" Step 22")]),e._v(" "),a("p",[e._v("Start Apache web server")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("systemctl enable httpd.service\nsystemctl start httpd.service\n")])])]),a("h2",{attrs:{id:"step-23"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-23"}},[e._v("#")]),e._v(" Step 23")]),e._v(" "),a("p",[e._v('I can see the "Hello World" page through  '),a("code",[e._v("CentOS02 10.0.2.9")]),e._v("  by browsing  "),a("code",[e._v("10.0.2.8")])]),e._v(" "),a("h2",{attrs:{id:"step-24"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-24"}},[e._v("#")]),e._v(" Step 24")]),e._v(" "),a("p",[e._v("Run  "),a("code",[e._v("nc -ul 1234")]),e._v("  on  "),a("code",[e._v("CentOS01 10.0.2.8")]),e._v("  and  "),a("code",[e._v("nc 10.0.2.8 -u 1234")]),e._v("  on  "),a("code",[e._v("CentOS02 10.0.2.9")])]),e._v(" "),a("p",[e._v("Then type  "),a("code",[e._v("abc")]),e._v("  on  "),a("code",[e._v("CentOS02 10.0.2.9")]),e._v('  and press Enter. I receive "no route to host".')]),e._v(" "),a("p",[e._v("Then release port number  "),a("code",[e._v("1234")]),e._v("  using  "),a("code",[e._v("udp")]),e._v("  from firewall of  "),a("code",[e._v("CentOS01 10.0.2.8")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("firewall-cmd --zone=public --add-port=1234/udp --permanent\nfirewall-cmd --reload\n")])])]),a("h2",{attrs:{id:"step-25"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-25"}},[e._v("#")]),e._v(" Step 25")]),e._v(" "),a("p",[e._v("If I first try to send a message from  "),a("code",[e._v("CentOS01 10.0.2.8")]),e._v(" , nothing happens, because UDP protocal is connectionless. The server  "),a("code",[e._v("CentOS01 10.0.2.8")]),e._v("  is just listening to  "),a("code",[e._v("port 1234")]),e._v("  but it does not have connection to the client  "),a("code",[e._v("CentOS02 10.0.2.9")]),e._v("  because the client  "),a("code",[e._v("CentOS02 10.0.2.9")]),e._v("  does not need to build connection with the server  "),a("code",[e._v("CentOS01 10.0.2.8")]),e._v("  very firstly before sending out messages.")]),e._v(" "),a("h2",{attrs:{id:"step-26"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-26"}},[e._v("#")]),e._v(" Step 26")]),e._v(" "),a("p",[e._v("Run  "),a("code",[e._v("nc -l 5678")]),e._v("  on  "),a("code",[e._v("CentOS01 10.0.2.8")]),e._v("  and  "),a("code",[e._v("nc 10.0.2.8 5678")]),e._v("  on  "),a("code",[e._v("CentOS02 10.0.2.9")]),e._v(" .")]),e._v(" "),a("p",[e._v('This returns "no route to host" again because  '),a("code",[e._v("port 5678")]),e._v("  is not released from the firewall. A TCP  "),a("code",[e._v("RST")]),e._v("  flag is sent back to  "),a("code",[e._v("CentOS02 10.0.2.9")]),e._v("  so  "),a("code",[e._v("CentOS02 10.0.2.9")]),e._v("  knows the connection is aborted.")]),e._v(" "),a("h2",{attrs:{id:"step-27"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-27"}},[e._v("#")]),e._v(" Step 27")]),e._v(" "),a("p",[e._v("Release port number  "),a("code",[e._v("5678")]),e._v("  using  "),a("code",[e._v("tcp")]),e._v("  from firewall of  "),a("code",[e._v("CentOS01 10.0.2.8")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("firewall-cmd --zone=public --add-port=5678/tcp --permanent\nfirewall-cmd --reload\n")])])]),a("h2",{attrs:{id:"step-28"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-28"}},[e._v("#")]),e._v(" Step 28")]),e._v(" "),a("p",[e._v("I first try to send a message from the server  "),a("code",[e._v("CentOS01 10.0.2.8")]),e._v(" , and the client  "),a("code",[e._v("CentOS02 10.0.2.9")]),e._v("  gets the message because both sides must have connection built under TCP protocal before any messages sent.")]),e._v(" "),a("p",[e._v("When I press  "),a("code",[e._v("CTRL + C")]),e._v("  on the client  "),a("code",[e._v("CentOS02 10.0.2.9")]),e._v(" , the server  "),a("code",[e._v("CentOS01 10.0.2.8")]),e._v("  is also down because the client  "),a("code",[e._v("CentOS02 10.0.2.9")]),e._v("  sends out a  "),a("code",[e._v("FIN")]),e._v("  flag and expects to end the connection. The server  "),a("code",[e._v("CentOS01 10.0.2.8")]),e._v("  sends a  "),a("code",[e._v("FIN")]),e._v("  flag again with a  "),a("code",[e._v("ACK")]),e._v("  flag for confirming, and the client  "),a("code",[e._v("CentOS02 10.0.2.9")]),e._v("  confirms that. TCP protocal only allows point to point transport due to one connection.")]),e._v(" "),a("h2",{attrs:{id:"step-29"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-29"}},[e._v("#")]),e._v(" Step 29")]),e._v(" "),a("p",[e._v("Run  "),a("code",[e._v("route -n")]),e._v("  on  "),a("code",[e._v("CentOS01 10.0.2.8")]),e._v("  to identify the default gateway.")]),e._v(" "),a("p",[e._v("Run  "),a("code",[e._v("cat /etc/resolv.conf")]),e._v("  on  "),a("code",[e._v("CentOS01 10.0.2.8")]),e._v("  to check DNS config.")]),e._v(" "),a("h2",{attrs:{id:"post-lab-questions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-lab-questions"}},[e._v("#")]),e._v(" Post-Lab Questions")]),e._v(" "),a("p",[e._v("An ARP cache may contain multiple entries with the same MAC address, even though the IP addresses listed are different. This commonly occurs in some networks. Describe the configuration of network devices that could result in this behaviour.")]),e._v(" "),a("p",[e._v("Answer:")]),e._v(" "),a("ol",[a("li",[e._v("A network with hosts that have a NIC binded with multiple IP addresses")]),e._v(" "),a("li",[e._v("Web server binded with IP addresses, so that the website can be surfed through multiple IP addresses")])]),e._v(" "),a("p",[e._v("In classful IP addressing, what classful network would your Windows and CentOS IP addresses normally belong to? What “class” do they actually belong to, and why? Write the network address for the VMs in CIDR notation. What is the maximum number of hosts that can be configured in this subnet?")]),e._v(" "),a("p",[e._v("Answer:\nSubnet Mask is  "),a("code",[e._v("255.255.255.0")]),e._v("  so it is actually a  "),a("code",[e._v("Class C")]),e._v("  => Network Address  "),a("code",[e._v("10.0.2.0/24")]),e._v(" . Number of possible hosts:  "),a("code",[e._v("2 ^ 8 - 2 = 254")]),e._v(" .")]),e._v(" "),a("p",[e._v("How could a computer detect an IP address conflict in the network when starting up, before it finishes loading its own IP network configuration? In other words, how could a computer determine whether an IP address is already in use on the network before it attempts to configure its network interface using the same address (which would then result in a conflict)?")]),e._v(" "),a("p",[e._v("Answer:")]),e._v(" "),a("ol",[a("li",[e._v("Ask DHCP server to get a valid IP address.")]),e._v(" "),a("li",[e._v("Ping all possible IP addresses to see which is not in use.")])])])}),[],!1,null,null,null);t.default=n.exports}}]);